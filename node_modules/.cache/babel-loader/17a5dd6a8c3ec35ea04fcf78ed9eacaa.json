{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _token = require('./util/token');\n\nvar _actions = require('./actions');\n\nvar initialState = {\n  isLoggedIn: (0, _token.hasToken)(),\n  token: (0, _token.getToken)(),\n  expiresAt: (0, _token.getExpiresAt)(),\n  isLoggingIn: false,\n  error: null\n};\n\nvar auth = function auth() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case _actions.LOGIN_REQUEST:\n      return _extends({}, state, {\n        isLoggingIn: true\n      });\n\n    case _actions.LOGIN_SUCCESS:\n      return _extends({}, state, {\n        isLoggedIn: true,\n        token: action.token,\n        expiresAt: action.expiresAt,\n        error: null,\n        isLoggingIn: false\n      });\n\n    case _actions.LOGIN_FAILURE:\n      return _extends({}, state, {\n        isLoggedIn: false,\n        token: null,\n        expiresAt: null,\n        error: action.error,\n        isLoggingIn: false\n      });\n\n    case _actions.LOGOUT:\n      return _extends({}, state, {\n        isLoggedIn: false,\n        token: null,\n        expiresAt: null,\n        error: null,\n        isLoggingIn: false\n      });\n\n    default:\n      return state;\n  }\n};\n\nexports['default'] = auth;","map":null,"metadata":{},"sourceType":"script"}